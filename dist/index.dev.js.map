{"version":3,"file":"index.dev.js","sources":["../src/Slice/Slice.style.js","../src/Slice/Slice.component.js","../src/PieMenu.style.js","../src/PieMenu.component.js"],"sourcesContent":["export default {\n  container: {\n    width: '200%',\n    height: '200%',\n    transformOrigin: '50% 50%',\n    borderRadius: '50%',\n  },\n  focus: {\n    width: '100%',\n    height: '100%',\n    borderRadius: '50%',\n  },\n  contentContainer: {\n    position: 'absolute',\n    width: '100%',\n    textAlign: 'center',\n  },\n  content: {\n    display: 'inline-block',\n  },\n};\n","// @flow\nimport React from 'react';\n\nimport styles from './Slice.style';\n\nexport type Callback = () => void;\n\ntype Props = {\n  children: any,\n  containerStyle: {},\n  focusStyle: {},\n  contentContainerStyle: {},\n  contentStyle: {},\n  contentHeight: number,\n  onSelect: Callback,\n  onMouseUp: Callback,\n  onMouseOver: Callback\n};\n\ntype State = {\n  focused: boolean\n};\n\nexport default class Slice extends React.Component<Props, State> {\n  static defaultProps = {\n    contentHeight: 32,\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      focused: false,\n    };\n  }\n\n  onMouseOver = (event: SyntheticMouseEvent<HTMLDivElement>) => {\n    const { onMouseOver } = this.props;\n    if (onMouseOver) {\n      onMouseOver();\n    }\n    this.setState({ focused: true });\n    event.stopPropagation();\n  };\n\n  onMouseOut = (event: SyntheticMouseEvent<HTMLDivElement>) => {\n    const { onMouseUp } = this.props;\n    if (onMouseUp) {\n      onMouseUp();\n    }\n    this.setState({ focused: false });\n    event.stopPropagation();\n  };\n\n  render() {\n    const {\n      children,\n      onSelect,\n      containerStyle,\n      focusStyle,\n      contentContainerStyle,\n      contentStyle,\n      contentHeight,\n    } = this.props;\n    const { focused } = this.state;\n    const { background, ...focusedStyle } = Object.assign({}, focusStyle);\n    const focusedBgStyle = { background };\n    return (\n      <div\n        role=\"button\"\n        onMouseOver={this.onMouseOver}\n        onMouseOut={this.onMouseOut}\n        onMouseUp={onSelect}\n        onClick={e => e.stopPropagation()}\n        onFocus={() => {}}\n        onBlur={() => {}}\n        tabIndex={-1}\n        style={Object.assign({}, styles.container, containerStyle)}\n      >\n        <div style={focused ? Object.assign({}, styles.focus, focusedBgStyle) : {}}>\n          <div\n            style={Object.assign({\n              height: `${contentHeight}px`,\n            }, styles.contentContainer, contentContainerStyle)}\n          >\n            <div style={Object.assign(\n                {},\n                styles.content,\n                contentStyle,\n                focused ? focusedStyle : {},\n              )}\n            >\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","const center = {\n  position: 'absolute',\n  borderRadius: '50%',\n  background: 'transparent',\n};\n\nexport default {\n  container: {\n    display: 'inline-block',\n  },\n  nav: {\n    position: 'relative',\n    display: 'inline-block',\n    margin: 0,\n    padding: 0,\n  },\n  ul: {\n    position: 'relative',\n    listStyle: 'none',\n    padding: 0,\n    margin: 0,\n    borderRadius: '50%',\n    overflow: 'hidden',\n  },\n  li: {\n    width: '50%',\n    height: '50%',\n    position: 'absolute',\n    transformOrigin: 'bottom right',\n    overflow: 'hidden',\n  },\n  center,\n};\n","// @flow\n/* eslint-disable no-param-reassign */\nimport React from 'react';\n\nimport styles from './PieMenu.style';\n\ntype Props = {\n  children: any,\n  radius: number,\n  centerX: number,\n  centerY: number,\n  centerRadius: number,\n  centerStyle: {},\n  menuStyle: {},\n  contentHeight: number,\n  renderCenter: boolean,\n  startAngle: number,\n  spreadAngle: number\n};\n\nconst PieMenu = ({ // eslint-disable-line object-curly-newline\n  renderCenter = true,\n  radius = 150,\n  centerX,\n  centerY,\n  centerRadius = 50,\n  centerStyle = {},\n  menuStyle = {},\n  contentHeight = 32,\n  startAngle,\n  spreadAngle = 360,\n  children,\n}: Props) => {\n  const centralAngle = children.length ? spreadAngle / children.length : spreadAngle;\n  const deltaAngle = 90 - centralAngle;\n  let offset = 0;\n  if (startAngle === undefined) {\n    startAngle = deltaAngle < 0 ? 45 : deltaAngle + (centralAngle / 2);\n  } else {\n    offset = startAngle - (deltaAngle + (centralAngle / 2));\n  }\n\n  console.log(startAngle, centralAngle, deltaAngle, spreadAngle);\n  return (\n    <div\n      style={\n        Object.assign({\n          position: (centerX || centerY) ? 'absolute' : 'relative',\n          top: `${centerY - radius}px`,\n          left: `${centerX - radius}px`,\n        }, styles.container, menuStyle)\n      }\n    >\n      <nav style={styles.nav}>\n        <ul style={Object.assign({\n            width: `${2 * radius}px`,\n            height: `${2 * radius}px`,\n          }, styles.ul)}\n        >\n          {React.Children.map(children, (child, i) => {\n            const rotate = startAngle + (centralAngle * i);\n            const newChild = React.cloneElement(child, {\n              containerStyle: Object.assign({\n                transform: `skew(${-deltaAngle}deg) rotate(${(centralAngle / 2) - 90}deg)`,\n                background: `radial-gradient(transparent ${centerRadius}px, rgba(109, 109, 109, 0.925) ${centerRadius}px)`,\n              }, child.props.containerStyle),\n              focusStyle: Object.assign({\n                background: `radial-gradient(transparent ${centerRadius}px, #424242 ${centerRadius}px)`,\n                color: 'white',\n              }, child.props.focusStyle),\n              contentHeight: child.props.contentHeight || contentHeight,\n              contentContainerStyle: Object.assign({\n                top: `${((radius - centerRadius) / 2) - ((child.props.contentHeight || contentHeight || 0) / 2)}px`,\n              }, child.props.contentContainerStyle),\n              contentStyle: Object.assign({\n                transform: `rotate(${-(offset + centralAngle * i)}deg)`,\n                color: 'black',\n              }, child.props.contentStyle),\n            });\n            return (\n              <li style={Object.assign({\n                transform: `rotate(${rotate}deg) skew(${deltaAngle}deg)`,\n              }, styles.li)}\n              >\n                {newChild}\n              </li>\n            );\n          })}\n        </ul>\n        { renderCenter && <div style={\n          Object.assign({\n            top: `calc(50% - ${centerRadius}px)`,\n            left: `calc(50% - ${centerRadius}px)`,\n            width: `calc(2 * ${centerRadius}px)`,\n            height: `calc(2 * ${centerRadius}px)`,\n          }, styles.center, centerStyle)\n        }\n        />\n        }\n      </nav>\n    </div>\n  );\n};\n\nexport default PieMenu;\n"],"names":["Slice","props","onMouseOver","event","setState","focused","stopPropagation","onMouseOut","onMouseUp","state","children","onSelect","containerStyle","focusStyle","contentContainerStyle","contentStyle","contentHeight","Object","assign","background","focusedStyle","focusedBgStyle","e","styles","container","focus","contentContainer","content","React","Component","defaultProps","center","PieMenu","renderCenter","radius","centerX","centerY","centerRadius","centerStyle","menuStyle","startAngle","spreadAngle","centralAngle","length","deltaAngle","offset","undefined","log","nav","ul","Children","map","child","i","rotate","newChild","cloneElement","li"],"mappings":"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"}